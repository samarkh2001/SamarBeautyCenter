{"ast":null,"code":"import UserAssistant from \"./UserAssistant\";\nimport axios from \"axios\";\nfunction send_Register(updateErrorMsg) {\n  const validation = UserAssistant.validateData();\n  const errorMsg = document.getElementById('error_text');\n  if (validation.resultCode !== 0) {\n    errorMsg.textContent = validation.msg;\n    updateErrorMsg(false);\n  } else {\n    const inputs = UserAssistant.getRegisterData();\n    const d = new Date();\n    let date = d.getDate() + \"-\" + (d.getMonth() + 1) + \"-\" + d.getFullYear();\n    const data = {\n      username: inputs.userName,\n      email: inputs.email,\n      password: inputs.pass,\n      date: date\n    };\n    axios.post(\"http://localhost:4000/api/register\", data).then(result => {\n      window.localStorage.setItem(\"name\", result.data.name);\n      window.localStorage.setItem(\"access_token\", result.data.access_token);\n      window.location = \"/\";\n    }).catch(err => {\n      errorMsg.textContent = err.response.data.msg;\n      updateErrorMsg(false);\n    });\n  }\n}\nfunction send_Login(updateErrorMsg) {\n  const user = document.getElementById('login_username').value;\n  const password = document.getElementById('login_pass').value;\n  const data = {\n    username: user,\n    password: password\n  };\n  axios.post(\"http://localhost:4000/api/login\", data).then(result => {\n    window.localStorage.setItem(\"name\", result.data.name);\n    window.localStorage.setItem(\"access_token\", result.data.access_token);\n    window.location = \"/\";\n  }).catch(err => {\n    document.getElementById('error_text').textContent = \"* Invalid username or password.\";\n    updateErrorMsg(false);\n  });\n}\nexport { send_Register, send_Login };","map":{"version":3,"names":["UserAssistant","axios","send_Register","updateErrorMsg","validation","validateData","errorMsg","document","getElementById","resultCode","textContent","msg","inputs","getRegisterData","d","Date","date","getDate","getMonth","getFullYear","data","username","userName","email","password","pass","post","then","result","window","localStorage","setItem","name","access_token","location","catch","err","response","send_Login","user","value"],"sources":["/home/samar/SamarBeautyCenter/src/utils/user_utils/RequestHandler.js"],"sourcesContent":["import UserAssistant from \"./UserAssistant\";\r\nimport axios from \"axios\";\r\n\r\nfunction send_Register(updateErrorMsg){\r\n    const validation = UserAssistant.validateData();\r\n    const errorMsg = document.getElementById('error_text');\r\n    if (validation.resultCode !== 0){\r\n        errorMsg.textContent = validation.msg;\r\n        updateErrorMsg(false);\r\n    }else{\r\n        const inputs = UserAssistant.getRegisterData();\r\n        const d = new Date();\r\n        let date = d.getDate() + \"-\"+(d.getMonth()+1)+\"-\"+d.getFullYear();\r\n        const data = {username: inputs.userName, email: inputs.email, password: inputs.pass, date: date};\r\n\r\n        axios.post(\"http://localhost:4000/api/register\", data).then(result=>{\r\n            window.localStorage.setItem(\"name\", result.data.name);\r\n            window.localStorage.setItem(\"access_token\", result.data.access_token);\r\n            window.location = \"/\";\r\n        }).catch(err=> {\r\n            errorMsg.textContent = err.response.data.msg;\r\n            updateErrorMsg(false);\r\n        });\r\n    }\r\n}\r\n\r\nfunction send_Login(updateErrorMsg){\r\n    const user = document.getElementById('login_username').value;\r\n    const password = document.getElementById('login_pass').value;\r\n    const data = {username: user, password: password};\r\n\r\n    axios.post(\"http://localhost:4000/api/login\", data).then(result =>{\r\n        window.localStorage.setItem(\"name\", result.data.name);\r\n        window.localStorage.setItem(\"access_token\", result.data.access_token);\r\n        window.location = \"/\";\r\n    }).catch(err=>{\r\n        document.getElementById('error_text').textContent = \"* Invalid username or password.\";\r\n        updateErrorMsg(false);\r\n    })\r\n}\r\n\r\nexport {send_Register, send_Login};"],"mappings":"AAAA,OAAOA,aAAa,MAAM,iBAAiB;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAEzB,SAASC,aAAa,CAACC,cAAc,EAAC;EAClC,MAAMC,UAAU,GAAGJ,aAAa,CAACK,YAAY,EAAE;EAC/C,MAAMC,QAAQ,GAAGC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC;EACtD,IAAIJ,UAAU,CAACK,UAAU,KAAK,CAAC,EAAC;IAC5BH,QAAQ,CAACI,WAAW,GAAGN,UAAU,CAACO,GAAG;IACrCR,cAAc,CAAC,KAAK,CAAC;EACzB,CAAC,MAAI;IACD,MAAMS,MAAM,GAAGZ,aAAa,CAACa,eAAe,EAAE;IAC9C,MAAMC,CAAC,GAAG,IAAIC,IAAI,EAAE;IACpB,IAAIC,IAAI,GAAGF,CAAC,CAACG,OAAO,EAAE,GAAG,GAAG,IAAEH,CAAC,CAACI,QAAQ,EAAE,GAAC,CAAC,CAAC,GAAC,GAAG,GAACJ,CAAC,CAACK,WAAW,EAAE;IACjE,MAAMC,IAAI,GAAG;MAACC,QAAQ,EAAET,MAAM,CAACU,QAAQ;MAAEC,KAAK,EAAEX,MAAM,CAACW,KAAK;MAAEC,QAAQ,EAAEZ,MAAM,CAACa,IAAI;MAAET,IAAI,EAAEA;IAAI,CAAC;IAEhGf,KAAK,CAACyB,IAAI,CAAC,oCAAoC,EAAEN,IAAI,CAAC,CAACO,IAAI,CAACC,MAAM,IAAE;MAChEC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEH,MAAM,CAACR,IAAI,CAACY,IAAI,CAAC;MACrDH,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEH,MAAM,CAACR,IAAI,CAACa,YAAY,CAAC;MACrEJ,MAAM,CAACK,QAAQ,GAAG,GAAG;IACzB,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,IAAG;MACX9B,QAAQ,CAACI,WAAW,GAAG0B,GAAG,CAACC,QAAQ,CAACjB,IAAI,CAACT,GAAG;MAC5CR,cAAc,CAAC,KAAK,CAAC;IACzB,CAAC,CAAC;EACN;AACJ;AAEA,SAASmC,UAAU,CAACnC,cAAc,EAAC;EAC/B,MAAMoC,IAAI,GAAGhC,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAC,CAACgC,KAAK;EAC5D,MAAMhB,QAAQ,GAAGjB,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACgC,KAAK;EAC5D,MAAMpB,IAAI,GAAG;IAACC,QAAQ,EAAEkB,IAAI;IAAEf,QAAQ,EAAEA;EAAQ,CAAC;EAEjDvB,KAAK,CAACyB,IAAI,CAAC,iCAAiC,EAAEN,IAAI,CAAC,CAACO,IAAI,CAACC,MAAM,IAAG;IAC9DC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEH,MAAM,CAACR,IAAI,CAACY,IAAI,CAAC;IACrDH,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEH,MAAM,CAACR,IAAI,CAACa,YAAY,CAAC;IACrEJ,MAAM,CAACK,QAAQ,GAAG,GAAG;EACzB,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,IAAE;IACV7B,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACE,WAAW,GAAG,iCAAiC;IACrFP,cAAc,CAAC,KAAK,CAAC;EACzB,CAAC,CAAC;AACN;AAEA,SAAQD,aAAa,EAAEoC,UAAU"},"metadata":{},"sourceType":"module"}